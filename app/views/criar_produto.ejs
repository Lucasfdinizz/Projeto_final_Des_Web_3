<!DOCTYPE html>
<html>
<head>
    <title>Cadastrar Produto</title>
    <link rel="stylesheet" href="/css/criarProduto.css">
</head>
<body>
    <%- include('cabecalho.ejs') %>
    <div class="container">
        <h1>Cadastrar Produto</h1>
        <div id="mensagem-container">
            <% if (success) { %>
                <div class="alert alert-success">
                    <%= success %>
                </div>
            <% } %>
            <% if (error) { %>
                <div class="alert alert-danger">
                    <%= error %>
                </div>
            <% } %>
        </div>        
        <form action="/produtos" method="post" enctype="multipart/form-data">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome">
            <label for="categoria">Categoria:</label>
            <input type="text" id="categoria" name="categoria">
            <label for="preco">Preço:</label>
            <input type="number" id="preco" name="preco">
            <label for="tamanho">Tamanho:</label>
            <select id="tamanho" name="tamanho">
                <option value="PP">PP</option>
                <option value="P">P</option>
                <option value="M">M</option>
                <option value="G">G</option>
                <option value="GG">GG</option>
            </select>
            <label for="descricao">Descrição:</label>
            <textarea id="descricao" name="descricao"></textarea>
            <label for="imagem">Imagem:</label>
            <input type="file" id="imagem" name="imagem">
            <button type="submit">Cadastrar</button>
        </form>
    </div>
    <script>
        // Mostra a barra de mensagem somente se houver uma mensagem de sucesso ou erro
        document.addEventListener('DOMContentLoaded', function() {
            var successMessage = document.querySelector('.alert-success');
            var errorMessage = document.querySelector('.alert-danger');
            var mensagemContainer = document.getElementById('mensagem-container');

            if (successMessage) {
                mensagemContainer.style.display = 'block';
                successMessage.style.display = 'block';
            }

            if (errorMessage) {
                mensagemContainer.style.display = 'block';
                errorMessage.style.display = 'block';
            }
        });
    </script>
</body>
</html>